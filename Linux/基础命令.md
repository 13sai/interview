### 文件操作

| 命令  | 说明                                             |
| ----- | ------------------------------------------------ |
| cat   | 用于连接文件并打印到标准输出设备上。             |
| chmod | 设定文件权限                                     |
| diff  | 比较文件的差异                                   |
| file  | 辨识文件类型                                     |
| find  | 在指定目录下查找文件                             |
| grep  | 查找文件里符合条件的字符串                       |
| cd    | 切换当前工作目录                                 |
| ls    | 显示指定工作目录下之内容                         |
| exit  | 退出目前的shell                                  |
| kill  | 删除执行中的程序或工作                           |
| mv    | 用来为文件或目录改名、或将文件或目录移入其它位置 |
| rm    | 删除一个文件或者目录 -r递归删除 -f强制删除       |
| cp    | 用于复制文件或目录                               |
| tail  | 输出文件尾部内容                                 |
| mkdir | 新建目录                                         |
| touch | 新建文件                                         |
| pwd   | 输出当前目录                                     |

### 系统管理命令

| 命令   | 说明                          |
| ------ | ----------------------------- |
| who    | 显示在线登陆用户              |
| whoami | 显示当前操作用户              |
| ps     | 显示当前进程 (process) 的状态 |

### vim使用

vim三种模式：命令模式、插入模式、编辑模式。使用ESC或i或：来切换模式。

| 命令          | 说明                                            |
| ------------- | ----------------------------------------------- |
| :q            | 退出                                            |
| :q!           | 强制退出                                        |
| :wq           | 保存并退出                                      |
| :set number   | 显示行号                                        |
| :set nonumber | 隐藏行号                                        |
| /sai          | 在文档中查找sai 按n跳到下一个，shift+n上一个    |
| u             | 撤销                                            |
| ctrl+r        | 重做                                            |
| yyp           | 复制光标所在行，并粘贴                          |
| dd            | 剪切当前行                                      |
| ndd           | n表示大于1的数字，剪切n行                       |
| dw            | 从光标处剪切至一个单子/单词的末尾，包括空格     |
| de            | 从光标处剪切至一个单子/单词的末尾，不包括空格   |
| d$            | 从当前光标剪切到行末                            |
| d0            | 从当前光标位置（不包括光标位置）剪切之行首      |
| d3l           | 从光标位置（包括光标位置）向右剪切3个字符       |
| d5G           | 将当前行（包括当前行）至第5行（不包括它）剪切   |
| d3B           | 从当前光标位置（不包括光标位置）反向剪切3个单词 |
| dH            | 剪切从当前行至所显示屏幕顶行的全部行            |
| dM            | 剪切从当前行至命令M所指定行的全部行             |
| dL            | 剪切从当前行至所显示屏幕底的全部行              |
| h             | (左移一个字符←)                                 |
| j             | (下一行↓)                                       |
| k             | (上一行↑)                                       |
| l             | (右移一个字符→)                                 |
| ctrl+f        | 下翻一屏。                                      |
| ctrl+b        | 上翻一屏。                                      |
| ctrl+d        | 下翻半屏。                                      |
| ctrl+u        | 上翻半屏。                                      |
| ctrl+e        | 向下滚动一行。                                  |
| ctrl+y        | 向上滚动一行。                                  |
| n%            | 到文件n%的位置。                                |
| zz            | 将当前行移动到屏幕中央。                        |
| zt            | 将当前行移动到屏幕顶端。                        |
| zb            | 将当前行移动到屏幕底端。                        |

### 附加

| 命令 | 说明                                            |
| ---- | ----------------------------------------------- |
| yy   | 复制当前行                                      |
| nyy  | n表示大于1的数字，复制n行                       |
| yw   | 从光标处复制至一个单子/单词的末尾，包括空格     |
| ye   | 从光标处复制至一个单子/单词的末尾，不包括空格   |
| y$   | 从当前光标复制到行末                            |
| y0   | 从当前光标位置（不包括光标位置）复制之行首      |
| y3l  | 从光标位置（包括光标位置）向右复制3个字符       |
| y5G  | 将当前行（包括当前行）至第5行（不包括它）复制   |
| y3B  | 从当前光标位置（不包括光标位置）反向复制3个单词 |

### 复合命令

查看特定时间nginx日志：

```
 cat /data/logs/nginx/rencun.access_9002.log | sed -n '/28\/Apr\/2019:02/,/28\/Apr\/2019:03/p' |awk '{print $1}'  |wc -l
```

批量删除进程

```
ps -ef|grep fpm| grep -v grep | awk '{print $2}'|xargs kill -9
```

查使用内存最多的K个进程(top （然后按下M，注意大写）)

```
ps aux|head -1;ps aux | sort -k4nr | head -n10

sort -k4nr中（k代表从第几个位置开始，后面的数字4即是其开始位置，结束位置如果没有，则默认到最后；n指代numberic sort，根据其数值排序；r指代reverse，这里是指反向比较结果，输出时默认从小到大，反向后从大到小。）。本例中，可以看到%MEM在第4个位置，根据%MEM的数值进行由大到小的排序。

head -n（n指代行数，即输出前几位的结果）

|为管道符号，将查询出的结果导到下面的命令中进行下一步的操作。

head -n（n指代行数，即输出前几位的结果）
```

查使用CPU最多的n个进程（然后按下P，注意大写)

```
ps aux|head -1;ps aux | sort -k3nr | head -n10
```

补充:内容解释

```
PID：进程的ID
USER：进程所有者
PR：进程的优先级别，越小越优先被执行
NInice：值
VIRT：进程占用的虚拟内存
RES：进程占用的物理内存
SHR：进程使用的共享内存
S：进程的状态。S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值为负数
%CPU：进程占用CPU的使用率
%MEM：进程使用的物理内存和总内存的百分比
TIME+：该进程启动后占用的总的CPU时间，即占用CPU使用时间的累加值。
COMMAND：进程启动命令名称
```